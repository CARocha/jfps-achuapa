{% extends "base.html" %}
{%load unslugify %}
{% block extra_header %}
 <script type="text/javascript">
    var activo = 0; 
    function click_callback(id){
        $.getJSON('/grafo/bienes/' + id, function(data) {
            if (activo!= id){
                $("#grafo").html('<img src="' + data.url + '" />');
                activo = id;
            }else{
                $("#grafo").html('');
                activo = 0;
            }
        });
    }
</script>
{% endblock %}
{%block titulo%}Los Equipos{%endblock%}

{% block contenido %}
<h2>Graficos de los distintos bienes</h2>
<ul>
 <li><a href="#" onCLick="click_callback('tipocasa')">Tipo Casa</a></li>
 <li><a href="#" onCLick="click_callback('tipopiso')">Tipo Piso</a></li>
 <li><a href="#" onCLick="click_callback('tipotecho')">Tipo Techo</a></li>
 <li><a href="#" onCLick="click_callback('ambiente')">Ambientes</a></li>
 <li><a href="#" onCLick="click_callback('letrina')">Letrina</a></li>
 <li><a href="#" onCLick="click_callback('lavadero')">Lavadero</a></li>
</ul>
 <div id="grafo"></div>
<table>
<caption>Los Equipos</caption>
 <thead>
    <tr>
        <th>EQUIPOS</th>
        <th>Frecuencia</th>
        <th>%</th>
        <th>Cantidad</th>
        <th>Promedio por familia</th>
    </tr>
  </thead>
    {%for key, value in tabla.items%}
    <tr>
        <td>{{key|unslugify}}</td>
        <td>{{value.frecuencia|floatformat}}</td>
        <td>{{value.por_equipo|floatformat}}</td>
        <td>{{value.equipo|floatformat}}</td>
        <td>{{value.cantidad_pro|floatformat}}</td>
    </tr>
    {%endfor%}
</table>

<table>
<caption>Las Infraestructuras</caption>
 <thead>
    <tr>
        <th>INFRAESTRUCTURA</th>
        <th>FRECUENCIA</th>
        <th>%</th>
        <th>CANTIDAD</th>
        <th>Promedio por familia</th>
    </tr>
  </thead>
    {%for key, value in tabla_infra.items%}
    <tr>
        <td>{{key|unslugify}}</td>
        <td>{{value.frecuencia|floatformat}}</td>
        <td>{{value.por_frecuencia|floatformat}}</td>
         <td>{{value.infraestructura|floatformat}}</td>
        <td>{{value.infraestructura_pro|floatformat}}</td>
    </tr>
    {%endfor%}
</table>

<table>
<caption>Las Herramientas</caption>
 <thead>
    <tr>
        <th>HERRAMIENTAS</th>
        <th>FRECUENCIA</th>
        <th>%</th>
        <th>CANTIDAD</th>
        <th>Promedio por familia</th>
    </tr>
 </thead>
    {%for key, value in herramienta.items%}
    <tr>
        <td>{{key|unslugify}}</td>
        <td>{{value.frecuencia|floatformat}}</td>
        <td>{{value.por_frecuencia|floatformat}}</td>
         <td>{{value.herra|floatformat}}</td>
        <td>{{value.por_herra|floatformat}}</td>
    </tr>
    {%endfor%}
</table>

<table>
<caption>Los Transportes</caption>
 <thead>
    <tr>
        <th>TRANSPORTE</th>
        <th>FRECUENCIA</th>
        <th>%</th>
        <th>CANTIDAD</th>
        <th>Promedio por familia</th>
    </tr>
 </thead>
    {%for key, value in transporte.items%}
    <tr>
        <td>{{key|unslugify}}</td>
        <td>{{value.frecuencia|floatformat}}</td>
        <td>{{value.por_frecuencia|floatformat}}</td>
         <td>{{value.trans|floatformat}}</td>
        <td>{{value.por_trans|floatformat}}</td>
    </tr>
    {%endfor%}
</table>
{% endblock %}
